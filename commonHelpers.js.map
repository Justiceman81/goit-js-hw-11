{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function searchImg(img) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const options = new URLSearchParams({\n    key: '44348563-8832aea6e55efd6ddd80494f7',\n    q: `${img}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${options}`;\n  return fetch(url)\n    .then(data => {\n      return data.json();\n    })\n    .then(data => {\n      console.log(data);\n      if (data === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n          messageColor: '#fafafb',\n        });\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImg } from './pixabay-api.js';\n\nconst listEl = document.querySelector('.img-list');\nlet lightbox;\n\nexport function createElements() {\n  searchImg().then(data => {\n    const markup = imgsTemplate(data);\n    listEl.insertAdjacentHTML('afterbegin', markup);\n    lightbox.refresh();\n  });\n}\n\nfunction imgTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li>\n    <a href=\"${largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" />\n    </a>\n    <span>likes ${likes}</span>\n    <span>views ${views}</span>\n    <span>comments ${comments}</span>\n    <span>downloads ${downloads}</span>\n    </li>`;\n}\nfunction imgsTemplate(arr) {\n  if (!Array.isArray(arr)) {\n    console.error('Expected an array but got:', arr);\n    return '';\n  }\n  return arr.map(imgTemplate).join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { searchImg } from './js/pixabay-api.js';\nimport { createElements } from './js/render-functions.js';\n\nconst inputEl = document.querySelector('.input-search');\nconst btnEl = document.querySelector('.btn-search');\nconst formEl = document.querySelector('.form-el');\nconst loader = document.getElementById('loader');\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  if (inputEl.value.trim() === '') {\n    return;\n  } else {\n    searchImg(inputEl.value.trim());\n    createElements();\n  }\n});\n"],"names":["searchImg","img","BASE_URL","END_POINT","options","url","data","iziToast","error","listEl","lightbox","createElements","markup","imgsTemplate","imgTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","arr","inputEl","formEl","e"],"mappings":"svBAGO,SAASA,EAAUC,EAAK,CAC7B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAG,GAAGH,CAAG,GACT,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAO,GAC9C,OAAO,MAAMC,CAAG,EACb,KAAKC,GACGA,EAAK,MACb,EACA,KAAKA,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EACZA,IAAS,GACXC,EAAS,KAAK,CACZ,QACE,4EACF,aAAc,SACxB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CC3BA,MAAMC,EAAS,SAAS,cAAc,WAAW,EACjD,IAAIC,EAEG,SAASC,GAAiB,CAC/BX,EAAW,EAAC,KAAKM,GAAQ,CACvB,MAAMM,EAASC,EAAaP,CAAI,EAChCG,EAAO,mBAAmB,aAAcG,CAAM,EAC9CF,EAAS,QAAO,CACpB,CAAG,CACH,CAEA,SAASI,EAAY,CACnB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,eACML,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,kBAE1BC,CAAK;AAAA,kBACLC,CAAK;AAAA,qBACFC,CAAQ;AAAA,sBACPC,CAAS;AAAA,UAE/B,CACA,SAASR,EAAaS,EAAK,CACzB,OAAK,MAAM,QAAQA,CAAG,EAIfA,EAAI,IAAIR,CAAW,EAAE,KAAK,EAAE,GAHjC,QAAQ,MAAM,6BAA8BQ,CAAG,EACxC,GAGX,CChCA,MAAMC,EAAU,SAAS,cAAc,eAAe,EACxC,SAAS,cAAc,aAAa,EAClD,MAAMC,EAAS,SAAS,cAAc,UAAU,EACjC,SAAS,eAAe,QAAQ,EAC/CA,EAAO,iBAAiB,SAAUC,GAAK,CACrCA,EAAE,eAAc,EACZF,EAAQ,MAAM,KAAI,IAAO,KAG3BvB,EAAUuB,EAAQ,MAAM,KAAM,CAAA,EAC9BZ,IAEJ,CAAC"}